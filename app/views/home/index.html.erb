<html>
  <head>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>
  <style>
    tr:nth-child(even) {
      background-color: #dddddd
    }
    td {
      padding: 10px 
    }
  </style>
  <body>
    <div class='flex m-8'>
      <table>
        <thead>
          <tr>
            <th colspan='3' style='text-align:center; font-size: 20px'>20 Most Played Games</th>
          </tr>
        </thead>
        <tbody>
          <% @played_games_sorted[0, 20].each.with_index(1) do |game, index| %>
            <tr>
              <td><%= index %></td>
              <td><%= game.name %></td>
              <td><%= game.playtime_forever %> minutes</td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    <table>
      <thead>
        <tr>
          <th>Game</th>
          <th>Play Time</th>
        </tr>
      </thead>
      <tbody>
        <% @recently_played_games.each do |game| %>
          <tr>
            <td><%= game.name %></td>
            <td><%= game.playtime_forever %> minutes</td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </body>
</html>
